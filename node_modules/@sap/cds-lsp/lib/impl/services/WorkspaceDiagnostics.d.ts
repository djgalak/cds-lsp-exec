/// <reference types="@sap__cds-compiler" />
import { XsnCompileModel } from '@sap/cds-compiler';
import * as LSP from 'vscode-languageserver-protocol';
import { BlitzIndex } from '../csn-api';
import { ILspOptions, ITranslationBroker } from '../utils';
import { SendDiagnosticsProvider, ValidationState } from './ValidationState';
export declare class WorkspaceDiagnostics {
    private options;
    private translationBroker;
    private modelTracer;
    validationState: ValidationState;
    private _annotationDiagnosticsByUri;
    private annotationHandlers;
    constructor(options: ILspOptions, translationBroker: ITranslationBroker, sendDiagnosticsProvider: SendDiagnosticsProvider);
    calculateAnnotationDiagnostics(uri: string, ast: XsnCompileModel, relativePath: string): Promise<void>;
    private calculateDiagnostics;
    calculateCombinedDiagnosticsAndSend(uri: string, index: BlitzIndex, workspaceVersion: number): Promise<LSP.PublishDiagnosticsParams>;
    protected calculateTranslationDiagnostics(uri: string, index: BlitzIndex): Promise<LSP.Diagnostic[]>;
    cleanDiagnostics(name: string): {
        [uri: string]: LSP.Diagnostic[];
    };
}
