"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class Alignment {
    constructor(context, id = '_ca_' + context.nextFreeAlignmentId, nMinColumn = 0) {
        this.id = id;
        this.nMinColumn = nMinColumn;
    }
    static resetIds(context) {
        context._knownAlignmentsById = {};
    }
    setColumn(minColumn) {
        if (this.nMinColumn < minColumn) {
            this.nMinColumn = minColumn;
        }
    }
    getColumn(lineNumber) {
        return this.nMinColumn;
    }
    toString() {
        return `${this.constructor.name}(${this.id})`;
    }
}
exports.Alignment = Alignment;
function alignmentForId(createInstance) {
    return function (context, id = '_ca_' + context.nextFreeAlignmentId) {
        let x = context._knownAlignmentsById[id];
        if (!x) {
            x = createInstance(context, id);
            context._knownAlignmentsById[id] = x;
        }
        return x;
    };
}
exports.alignmentForId = alignmentForId;
//# sourceMappingURL=Alignment.js.map